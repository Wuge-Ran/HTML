<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>prac</title>
    <link rel="stylesheet" href="css/global.css">
    <style>
        #box{
            width: 772px;
            height: 448px;
            margin: 10px auto;
        }
        li{
            height: 54px;
            padding: 0 40px;
            font: 18px/54px '微软雅黑';
            background-image: url(img/unchecked.png);
            background-repeat: no-repeat;
            background-position: 10px 18px;
        }
        li:nth-child(2n){
            background-color: #f3b3c0;
        }
        #tlist{
            padding: 27px 0;
        }
        #tlist .active{
            background-color: #e76a81;
            background-image: url(img/checked.png);
            color: #fff;
        }
        .name{
            float: left;
        }
        .singer{
            float: right;
        }
        #full{
            background-color: #de4a63;
            font: 18px/54px '微软雅黑';
            padding: 0 40px;
            background-image: url(img/unchecked.png);
            background-repeat: no-repeat;
            background-position: 10px 15px;
        }
    </style>
</head>
<body>
    <div id="box">
        <ul id="tlist">
            <li>
                <span class="name">泡沫</span>
                <span class="singer">邓紫棋</span>
            </li>
            <li>
                <span class="name">泡沫</span>
                <span class="singer">邓紫棋</span>
            </li>
            <li>
                <span class="name">泡沫</span>
                <span class="singer">邓紫棋</span>
            </li>
            <li>
                <span class="name">泡沫</span>
                <span class="singer">邓紫棋</span>
            </li>
            <li>
                <span class="name">泡沫</span>
                <span class="singer">邓紫棋</span>
            </li>
            <li>
                <span class="name">泡沫</span>
                <span class="singer">邓紫棋</span>
            </li>
        </ul>
        <div id="full">
            全选
        </div>
    </div>
</body>
<script>
    var aLi=document.querySelectorAll('#tlist li');
    var oFull=document.querySelector('#full');
    var a=0;
    oFull.turnoff=false;
    for(var i=0;i<aLi.length;i++){
        aLi[i].turnoff=false;
        aLi[i].onclick=function (){
            if(this.turnoff){
                this.className='';
                this.turnoff=false;
                a--;
            }else{
                this.className='active';
                this.turnoff=true;
                a++;
            }
            if(a==aLi.length){
                oFull.style.backgroundImage='url(img/checked.png)';
                oFull.turnoff=true;
            }else{
                oFull.style.backgroundImage='url(img/unchecked.png)';
                oFull.turnoff=false;
            }
        }
    }
    oFull.onclick=function (){
        if(oFull.turnoff){
            for(var i=0;i<aLi.length;i++){
                aLi[i].className='';
                aLi[i].turnoff=false;
                a=0;
            }
            oFull.style.backgroundImage='url(img/unchecked.png)';
            oFull.turnoff=false;
        }else{
            for(var i=0;i<aLi.length;i++){
                aLi[i].className='active';
                aLi[i].turnoff=true;
                a=aLi.length;
            }
            oFull.style.backgroundImage='url(img/checked.png)';
            oFull.turnoff=true;
        }
    }
</script>
</html>